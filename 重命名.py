import os
import re

# 根目录
base_dir = "/Users/augustsirius/second_brain/Areas/恒讲/archive/知识体系库-GitHub/"

# 编号到中文标题的映射
title_map = {
    # 第一部分：认识论与思维基础
    "001": "什么是知识",
    "002": "证据与推理",
    "003": "科学方法",
    "004": "概率与统计思维",
    "005": "因果关系",
    "006": "批判性思维",
    "007": "认知偏差",
    "008": "决策理论",
    "009": "心智模型",
    "010": "学习的运作方式",
    "011": "阅读与信息处理",
    "012": "专业技能",
    "013": "理智谦逊",
    "014": "论证与对话",
    "015": "模型与现实",
    "016": "还原论与涌现",
    "017": "概念与定义",
    "018": "事实与价值",
    "019": "解释与理解",
    "020": "预测与预报",
    
    # 第二部分：数学与形式科学
    "021": "逻辑：有效推理的法则",
    "022": "命题逻辑与谓词逻辑",
    "023": "证明与可证性",
    "024": "集合、关系与函数",
    "025": "数系",
    "026": "代数：结构的研究",
    "027": "几何与拓扑",
    "028": "分析：连续性与变化",
    "029": "离散数学",
    "030": "线性代数",
    "031": "微分方程",
    "032": "概率论",
    "033": "统计学：从数据中学习",
    "034": "贝叶斯推理",
    "035": "信息论",
    "036": "计算理论",
    "037": "算法与复杂性",
    "038": "网络与图论",
    "039": "优化",
    "040": "博弈论",
    
    # 第三部分：物理科学
    "041": "经典力学",
    "042": "能量与热力学",
    "043": "电磁学",
    "044": "狭义相对论",
    "045": "广义相对论",
    "046": "量子力学基础",
    "047": "测量问题",
    "048": "量子场论",
    "049": "粒子物理与标准模型",
    "051": "化学键",
    "052": "化学反应",
    "053": "有机化学",
    "054": "地球结构与过程",
    "055": "气候科学",
    "056": "天文学：恒星与星系",
    "057": "宇宙学",
    "058": "物理学哲学",
    
    # 第四部分：复杂系统
    "059": "什么是复杂性",
    "060": "涌现",
    "061": "非线性动力学与混沌",
    "062": "反馈与控制",
    "063": "自组织",
    "064": "网络科学",
    "065": "基于主体的系统",
    "066": "复杂适应系统",
    "067": "尺度与标度",
    "068": "层级组织",
    "069": "复杂系统中的预测",
    "070": "复杂系统中的干预",
    
    # 第五部分：生命科学
    "071": "什么是生命",
    "072": "生命的起源",
    "073": "细胞生物学",
    "074": "分子生物学",
    "075": "遗传学",
    "076": "自然选择进化",
    "078": "宏观进化",
    "080": "发育",
    "081": "生态学：种群与群落",
    "082": "生态系统",
    "083": "生物多样性",
    "084": "微生物学",
    "085": "免疫学",
    "086": "神经科学",
    "087": "生物技术",
    "088": "生物学哲学",
    
    # 第六部分：心智与认知
    "089": "认知科学",
    "090": "感知",
    "091": "注意力",
    "092": "记忆",
    "093": "推理与问题解决",
    "094": "语言与心智",
    "095": "判断与决策",
    "097": "意识理论",
    "098": "意识的改变状态",
    "099": "社会认知",
    "100": "情绪",
    "101": "人工智能",
    "102": "动物心智",
    "103": "心灵哲学",
    
    # 第七部分：人性与个体
    "104": "人性",
    "105": "进化心理学",
    "106": "人格",
    "107": "智力",
    "108": "动机",
    "109": "幸福与福祉",
    "110": "人类发展",
    "111": "儿童发展",
    "112": "自我",
    "113": "心理健康与障碍",
    "114": "压力、应对与复原力",
    "115": "关系与依恋",
    "116": "习惯与行为改变",
    "117": "创造力",
    
    # 第八部分：社会与文化
    "118": "社会心理学",
    "119": "群体与合作",
    "120": "文化",
    "121": "社会学",
    "122": "人类学",
    "123": "经济学原理",
    "124": "市场与价格",
    "125": "市场失灵",
    "126": "行为经济学",
    "127": "宏观经济学",
    "128": "政治学",
    "129": "民主",
    "130": "政治哲学",
    "131": "国际关系",
    "132": "法律与法律制度",
    "133": "社会变迁",
    "134": "历史：模式与意义",
    "135": "宗教",
    "136": "技术与社会",
    
    # 第九部分：伦理与实践
    "137": "什么是伦理学",
    "138": "元伦理学",
    "139": "后果主义",
    "140": "义务论",
    "141": "美德伦理学",
    "142": "道德心理学",
    "143": "应用伦理学概述",
    "144": "生命伦理学",
    "145": "环境伦理学",
    "146": "人工智能伦理",
    "147": "实践决策",
    "148": "战略思维",
    "149": "谈判与冲突解决",
    "150": "领导力",
    "151": "有效利他主义",
    "152": "个人效能",
    "153": "实践智慧",
    
    # 第十部分：哲学与大问题
    "154": "形而上学：存在什么",
    "155": "时间与变化",
    "156": "个人同一性",
    "157": "自由意志",
    "158": "语言哲学",
    "159": "美学",
    "160": "创造力与创新",
    "161": "生命的意义",
    "162": "死亡与必死性",
    "163": "宗教与灵性",
    "164": "思想史",
    "165": "科学革命",
    "166": "长期未来",
    "167": "存在风险",
    "168": "人类增强",
    "169": "系统思维",
    "170": "融贯",
    "171": "构建世界观",
}

# 遍历所有 Part 文件夹
for part_folder in os.listdir(base_dir):
    part_path = os.path.join(base_dir, part_folder)
    
    if not os.path.isdir(part_path) or not part_folder.startswith("Part_"):
        continue
    
    for filename in os.listdir(part_path):
        if not filename.endswith(".md"):
            continue
        
        # 提取编号（文件名前三位数字）
        match = re.match(r"^(\d{3})_", filename)
        if not match:
            print(f"跳过（无法匹配编号）: {filename}")
            continue
        
        num = match.group(1)
        
        if num not in title_map:
            print(f"跳过（编号不在映射表中）: {filename}")
            continue
        
        # 构建新文件名
        new_filename = f"{num}_{title_map[num]}.md"
        
        old_path = os.path.join(part_path, filename)
        new_path = os.path.join(part_path, new_filename)
        
        # 重命名
        os.rename(old_path, new_path)
        print(f"已重命名: {filename} -> {new_filename}")

print("\n完成！")