# 贝叶斯推理
*基于证据更新信念*

一位医生正在诊治一名头痛发热的患者。这些症状可能指向数十种疾病——从普通感冒到脑膜炎都有可能。她该如何推断?她不可能做遍所有检查,既不现实还可能伤害患者。她从已知信息入手:患者年龄、病史、当前流感季节、社区里流行什么病。在任何检查开始前,某些诊断就已经比其他更合理。当检查结果出来,她不是简单看"阳性"还是"阴性",而是问:**考虑到我原本的判断,每项结果应该在多大程度上改变我的想法?**

这就是贝叶斯推理:一种根据新证据有原则地更新信念的方法。

你可能觉得这是医生、科学家、统计学家的事。其实你每天都在做贝叶斯推理,只是没意识到。早上看到天阴了,你更新了"会下雨"的信念,决定带伞。看到朋友表情不对,你更新了"他心情不好"的信念,调整说话方式。刷到一条惊人的新闻,你下意识判断"这是真的吗",实际是在权衡证据强度和你的先验信念。

贝叶斯推理的独特之处在于:它将这种无处不在的思维过程提炼为精确的数学规则。这不仅让我们理解"好的推理"是什么样的,还能避免直觉容易犯的系统性错误。

**核心洞见**:理性的信念修正不是可选的,也不能仅凭直觉——它遵循精确的数学法则。贝叶斯定理不只是众多公式之一;它是*唯一*能让我们根据证据一致地更新信念的规则。任何其他规则都会导致不连贯:要么信念自相矛盾,要么可以通过一系列你单独都会接受的赌注来确保你整体必输。在不确定性下进行良好推理,就是进行贝叶斯式推理,无论你是否明确写出数学公式。

## 核心理念:一个公式,三个角色

贝叶斯定理看起来简洁:

$$P(H|E) = \frac{P(E|H) \cdot P(H)}{P(E)}$$

但这个公式讲述的是一个关于信念如何随证据变化的故事。理解这个故事,你需要认识三个角色:

**先验 P(H)** - 你原本的信念

在看到证据E之前,你对假设H有多大信心?这是你的**起点**。它编码了你在获得这条新证据之前所知道的一切:过往经验、领域知识、常识。

**似然 P(E|H)** - 假设的预测能力

如果假设H为真,观察到证据E的概率有多大?这衡量假设对数据的**解释力**。注意方向:似然问的是"假设成立→证据出现"的概率,不是反过来。

**后验 P(H|E)** - 你更新后的信念

考虑证据后,你对H的新信念程度。这是我们要求解的**终点**。

定理的直觉版本是:

$$\text{更新后的信念} \propto \text{原本的信念} \times \text{证据有多符合}$$

分母P(E)是个归一化常数,确保概率加起来等于1,通常不需要细究。

让我们用一个案例走通整个流程。

## 一个案例:朋友在家吗?

假设你想知道朋友是否在家。在拨打电话之前,你估计他们在家的概率是50%(先验)。你拨打座机,没人接(证据)。

现在贝叶斯推理登场了。关键问题不是"没人接电话常见吗",而是:**两个不同的假设,哪个更好地预测这个证据?**

- 如果他们**在家**,大约10%的可能不接电话(在洗澡、音乐太大声、故意不接等)
- 如果他们**不在家**,100%不会有人接

这里有个10倍的差距。"没人接"在"不在家"假设下的可能性是"在家"假设的10倍。这个比值叫**似然比**,它决定证据有多强。

套用贝叶斯定理:

$$P(\text{在家}|\text{没人接}) = \frac{0.10 \times 0.50}{0.10 \times 0.50 + 1.00 \times 0.50} = \frac{0.05}{0.55} \approx 0.09$$

你的信念从50%降到约9%。这个证据是**诊断性的**,因为两个假设对它的预测差异很大。

但等等——你还注意到他们的车停在车道上。如果在家,车在那里的概率约90%;如果不在家,约30%(也许伴侣开车送他们出去了)。

这是支持"在家"的证据(似然比3),把概率从9%拉回到约23%。两条证据部分抵消——而你以一种有原则的方式将它们结合起来了。

这就是贝叶斯推理:不是机械地看证据"有"还是"没有",而是问**证据在不同假设下的相对可能性**。

## 为什么要明确化?你本来就在这样想

你可能会说:"我日常就是这样判断的,不需要公式啊。"没错,人类直觉确实在做类似的事。那为什么还要明确化?

因为**直觉容易走偏**,而且走偏的方式还很系统。

### 基础率谬误:最常见的灾难

一种疾病影响千分之一的人。检测准确率99%——有病的人99%会呈阳性,没病的人99%会呈阴性。你检测呈阳性。你患病的概率是多少?

大多数人说99%,因为检测99%准确。实际答案:约9%。

为什么?因为基础率(先验)极为重要。在每1,000个被检测的人中:
- 大约1人患病且检测呈阳性(真阳性)
- 大约10人没病但检测呈阳性(假阳性)

11个阳性中只有1个是真的。检测确实准确——它正确分类了99%的人——但当疾病罕见时,假阳性淹没了真阳性。

这不是数学游戏。它影响:
- **医学筛查**:对罕见病的大规模筛查主要产生假阳性,造成不必要的焦虑和治疗。
- **法律推理**:匹配概率为百万分之一的DNA证据,如果嫌疑人来自数百万人的数据库,并不意味着百万分之一的无罪概率。
- **安全系统**:面对0.001%恐怖分子的人群,99%准确的检测器每找到一个真恐怖分子就会产生数千次误报。

人类直觉容易忽略基础率,只关注证据本身有多强。贝叶斯公式强制你考虑先验——这是个救命的设计。

### 非凡声明需要非凡证据

假设朋友声称昨晚被外星人绑架,他的证词真诚动人。你会相信吗?

不会。为什么?因为你对外星人绑架的先验概率极低——也许是百万分之一。一个真诚的证词(似然比也许是10)根本不足以克服这个低先验。你需要似然比高得多的证据——实物、独立证人、视频——才能让后验显著上升。

这不是顽固,而是理性。**相同的证据对不同假设的说服力不同**,取决于先验。能确认"朋友心情不好"的证词,不足以确认"外星人绑架"。

## 三个角色的深入理解

### 先验:你不是从真空开始的

批评者常说贝叶斯推理"太主观",因为它需要先验。但这个批评搞错了重点:**无论你承认与否,你都在使用先验。**

当你听到"这颗药治好了我的头痛",你不会马上相信药的疗效。为什么?因为你对头痛自行缓解的基础率、安慰剂效应、记忆不可靠性有先验信念。这些先验在你推理中实际发挥作用——问题在于是审视它们还是让它们隐藏着。

先验从哪来?

**领域知识**:成年人身高不太可能小于3英尺或大于8英尺。永动机在热力学面前先验概率实际为零。

**基础率**:随机网站是骗局的先验概率比多数人直觉认为的高。任何特定个人犯下特定罪行的先验概率非常低。

**过往经验**:如果你追踪预测发现自己过度自信,应该调整未来的先验使其不那么极端。

好消息是:**随着数据积累,先验的重要性会降低。**两位先验信念非常不同的科学家,观察足够多共同证据后,后验通常会趋同。这叫"先验的冲淡"。适度的先验分歧最终会被数据解决。

但在以下情况先验极为重要:
- 数据稀少
- 多个假设同等解释数据
- 估计低概率事件
- 涉及独特事件,没有更多数据的前景

这时,对先验假设的透明讨论和敏感性分析变得至关重要。

### 似然:假设的预测能力

似然P(E|H)是你的世界模型发挥作用的地方:如果假设H为真,证据E出现的概率有多大?

**关键错误:混淆似然与后验**

P(E|H)不是P(H|E)。前者问"假设成立→证据出现有多可能",后者问"证据出现→假设成立有多可能"。这不是文字游戏,而是完全不同的问题。

检察官谬误就是犯了这个错:"DNA偶然匹配概率是千万分之一,所以无罪概率是千万分之一。"但P(证据|无罪)≠P(无罪|证据)。如果嫌疑人是从数百万人的数据库中被识别的,且无其他证据,我们预期偶然就会有约0.5个匹配。证据几乎不移动后验。

**关键洞见:似然比决定一切**

单独的似然值不重要,**似然比**才重要。一个假设完美预测的证据,如果其他每个假设也同样预测它,就是无信息的。同等符合所有假设的证据不支持任何一方,无论它整体看起来多么可能或不可能。

这就是为什么"符合"不等于"支持"。阴谋论常犯这个错:"你看,这个证据符合我的理论!"但如果该证据也同样符合常规解释,它就不支持阴谋论。

### 更新:不是你想怎么改就怎么改

有了先验和似然,更新是自动的。你不能随心所欲地改变想法——贝叶斯定理精确规定证据应该如何修正概率。

**顺序无关紧要**:先看到证据1再看到证据2,与先看2再看1,最终后验相同(前提是似然正确指定)。这种连贯性只有贝叶斯更新能保证。

**今天的后验是明天的先验**:你可以在证据到来时实时更新,无需存储所有过去数据。当前的概率分布概括了你所学到的一切。医生可以在每个检查结果出来时更新诊断概率,无需从头重新考虑所有先前证据。

**不连贯会被利用**:如果你的信念违反概率公理,或者用贝叶斯以外的规则更新,别人可以构造一系列赌注让你单独接受每一个,但组合起来必输。这叫荷兰赌论证。连贯性不是美学偏好,而是生存要求。

## 常见陷阱

### 证据的缺失也是证据

"没有证据不是缺失的证据"这句话只对一半。证据的缺失*确实是*缺失的证据,强度取决于如果假设为真你期望看到证据的程度。

你在房间彻底搜索钥匙却没找到,这是它们不在那里的强证据——因为如果在那里你很可能会找到。但如果只是匆匆瞥了一眼杂乱桌子,没找到告诉你的就少得多。

大型临床试验没发现治疗效果,是反对该效果的强证据。小型先导研究没发现效果,是弱证据——真实效果很容易被遗漏。设计良好、能检测到效果但没检测到的实验,缺失本身有信息量。

### 期望证据守恒

在看到证据之前,你不应该期望你的信念向任何特定方向移动。在抛硬币看到结果前,你不能期望最终更确信它偏向正面——因为你不知道它会落哪一面。

这不意味着证据无价值——个别观察可以且应该移动你的信念,有时是剧烈的。但你事先不知道会向哪个方向移动。

如果你发现自己在想"这个实验可能会确认我的理论",你就犯了错。如果实验也可能否定理论,那么所有可能结果的平均值上,它不可能系统性地确认。如果它只能确认从不能否定,那它不是真正的测试,只是表演。

### 概率不是确定性

对假设95%的后验概率不意味着该假设为真——意味着你应该像有5%的错误机会那样行事。人们常更新到高概率然后就像已确定那样推理,忽略剩余不确定性。

这在以下情况尤为重要:
- 你做许多这样的判断(5%错误会累积——以95%信心做20个决定,预期有一个是错的)
- 错误代价很高(灾难性后果的罕见事件很重要)
- 你正在做不可逆决定
- 你一开始就过度自信(那95%实际可能是80%)

## 应用:从医学到日常生活

### 医学诊断

现代循证医学的框架就是贝叶斯的:

1. **先验**:根据患病率、风险因素、临床表现估计检测前概率
2. **似然比**:每个检测有阳性和阴性似然比
3. **更新**:结合检测前概率与似然比得到检测后概率
4. **迭代**:只有当额外检测会改变治疗方案时才进行

为什么同样的阳性检测对高风险患者和常规筛查意义完全不同?因为先验不同。这个框架既防止漏诊又防止过度检测。

### 科学推断

贝叶斯框架阐明可重复性争论:如果对一个理论有强先验信念而一次重复失败,你应该怀疑重复还是理论?答案取决于效应的先验可信度和重复的质量。

对有许多先前重复的著名效应(如Stroop效应),单次重复失败可能让你更新为"这次重复出了问题"。对只有一项先前研究的令人惊讶发现,重复失败会大大降低你对效应的信心。

### 法律推理

**检察官谬误**:混淆P(证据|无罪)与P(无罪|证据)。DNA偶然匹配概率是千万分之一,不意味着无罪概率是千万分之一。

**辩护律师谬误**:争辩每条证据单独都弱,所以组合也弱。但贝叶斯更新是乘法性的——三条似然比各为3的证据组合起来比值为27。

### 日常推理

即使不明确计算,贝叶斯习惯也能改善推理:

**明确你的先验**:在这个证据之前你相信什么?承认这点帮助你适当更新,而不是过度重视显著但不令人惊讶的信息。

**询问似然比**:"这个证据符合我的假设吗?"不如问"它比替代假设更符合吗?"当评估论证时,问:"如果结论是假的,我会期望这个论证被提出吗?"

**寻求诊断性证据**:最好的测试是不同假设预测非常不同结果的测试。如果试图在两个解释之间决定,问:"如果A为真我期望看到什么是如果B为真我不会期望的?"

**渐进更新**:不要从单条证据跳到结论。积累证据,让信念逐渐转变。对从小证据得出大结论保持警惕。

**追踪校准**:你像你认为的那样正确吗?保持带置信水平的预测记录,对照结果检查。大多数人过度自信——当他们说90%自信时,正确频率不到90%。

## 概率意味着什么?

到这里你可能会问:这些"概率"究竟是什么?是关于世界的客观事实,还是我们头脑中的东西?

**频率派解释**:概率是重复试验中事件的长期频率。抛硬币正面的概率是无穷多次抛掷中正面比例的极限。这优雅且客观——概率是物理系统的属性。

但它难以处理一次性事件。人类文明存续到2200年的概率是多少?某个特定被告犯罪的概率是多少?这些不能以任何有意义的方式重复。

**贝叶斯解释**:概率代表理性主体的**信念程度**。你认为明天下雨的概率是你个人置信度的度量——基于你所知道的一切,你有多确信。

这听起来危险地主观。如果概率只是个人意见,你岂不可以相信任何事?两个约束防止这点:

1. **连贯性**:你的信念必须服从概率公理。下雨60%、不下雨50%是不连贯的(加起来110%)。
2. **基于证据的更新**:收到新信息时必须通过贝叶斯定理更新。你不能随意改变想法。

这些约束出人意料地强大。荷兰赌论证证明,违反概率公理或用贝叶斯以外规则更新的人,可以通过连续赌注被利用。

因此,虽然贝叶斯概率是"主观的"(两个理性主体可以从不同先验开始),但它们是"客观的"(要求逻辑连贯和有原则更新)。主观性在于起点,而非游戏规则。

在实践中,两种解释哪个更有用?考虑刑事审判中DNA证据。频率主义者说:"如果我们检测千万个随机的人,平均一个会偶然匹配。"贝叶斯主义者问:"考虑到我们对这个案件的所有其他了解,DNA匹配应该在多大程度上增加我们对有罪的信念?"

两种都没"错",但贝叶斯框架通常更好地捕捉陪审员实际需要决定的问题:考虑到所有证据,他们对有罪应该有多大信心?这是信念程度,而非长期频率。

## 结论:像贝叶斯主义者一样思考

贝叶斯推理不只是统计技术——它是一种思考不确定性、证据和信念修正的方式。核心洞见:

**信念有程度之分。**你不是简单地相信或不相信;你对各种可能性有概率分布,代表你的不确定性。

**你总是从某处开始。**先验不可避免。问题在于是明确对待它们使其接受审视,还是任其隐藏。

**证据按比例移动信念。**证据在多大程度上改变你想法取决于似然比——一个假设比替代假设更好地预测证据的程度。

**非凡声明需要非凡证据。**低先验概率需要高似然比才能产生高后验概率。能确认合理声明的相同证据,几乎不会移动不合理的声明。

**所有证据都是相对的。**同一观察可以是一个假设的强证据,也可以是另一个假设的弱证据,取决于正在考虑的替代假设。

**更新是有原则的,而非任意的。**你不能随心所欲地改变想法。贝叶斯定理唯一地规定如何连贯地修正信念。

无论你是否明确应用贝叶斯定理,这些思维习惯都能改善不确定性下的推理:

- 你之前怎么想的?
- 如果你是对的,你期望看到什么?
- 如果你是错的,你期望看到什么?
- 这个证据应该让你有多惊讶?
- 与替代假设下的期望相比如何?

这些都是贝叶斯问题。学会仔细提问,是值得培养的技能。回报是对从医疗决策到科学推断再到日常判断该相信什么的一切进行更清晰的思考。

你已经在用贝叶斯式思维了。现在你只是知道它叫什么名字,以及如何做得更好。

---

## 延伸阅读

**直观理解:**
- Daniel Kahneman 著《思考,快与慢》——关于启发式和偏见的章节阐明直觉概率判断在哪里失效,以及为什么贝叶斯推理作为纠正很重要。

**实际应用:**
- Nate Silver 著《信号与噪声》——展示贝叶斯思维在体育、政治、天气等预测中的应用,使抽象概念具体化。

**数学基础:**
- E.T. Jaynes 著《概率论:科学的逻辑》——对贝叶斯概率作为扩展逻辑的深入论证。内容密集但值得一读。

**深入应用:**
- Gelman 等著《贝叶斯数据分析》——应用贝叶斯统计的标准参考,全面、现代且实用。

---

*关联:本文建立在概率论一文的基础上,后者提供数学基础。它扩展了概率与统计思维一文中的直观处理,为《统计学:从数据中学习》提供信息,作为频率派假设检验的替代方案,并与决策理论相连,后验概率使期望效用计算和理性选择成为可能。*

---
topic_id: 34
part: II
section: "概率与统计"
difficulty: 7/10
estimated_reading_time: 25 minutes
prerequisites: [4, 32]
related_topics: [33, 8]
enables: [142, 209]
core_concepts: ['先验', '似然', '后验', '贝叶斯定理', '主观概率', '贝叶斯更新', '似然比', '基础率谬误', '荷兰赌论证']
---
