# 命题逻辑与谓词逻辑
*推理的形式语言*

"凡人皆有死。苏格拉底是人。所以苏格拉底会死。"

你大概觉得这个论证很有说服力——或许是显而易见的。但*为什么*它有说服力？是什么让这个论证有效,而"凡猫皆是动物。苏格拉底是动物。所以苏格拉底是猫"却无效？

答案不在于词语的含义。如果我们把"人"换成无意义的"格洛布"，把"有死"换成"弗利姆"，第一个论证仍然有效："凡格洛布皆弗利姆。苏格拉底是格洛布。所以苏格拉底弗利姆。"

有效性取决于*结构*，而非内容。形式逻辑正是对这种结构的系统研究。它提供了精确的语言来表达命题，提供了严格的方法来判定哪些推理站得住脚。这种形式化改变了哲学和数学，催生了数字计算机，至今仍是我们区分好推理与坏推理的最锋利工具。

## 形式化的代价与收益

逻辑的核心策略是分离*形式*与*内容*。我们创造一种规则精确的人工语言，将自然语言论证翻译成符号，然后运用机械程序检验有效性。

这样做有几个好处。它消除了歧义——每个符号只有一个意思。它使隐藏的假设浮出水面——形式证明中的每一步都必须有据可依。它使自动化成为可能——计算机可以检验证明，甚至发现新的证明。

但形式化也有代价。自然语言丰富、灵活、依赖语境；形式语言则是刚性的。有些英语中明显有效的论证很难形式化。比如："Jones 是一位好厨师。所以 Jones 是一位厨师。"这显然对,但要捕捉*为什么*对，需要理解"好"如何修饰名词——这比看上去复杂得多。

有两个主要系统占据主导地位。**命题逻辑**处理完整的陈述句及其组合。**谓词逻辑**（也称一阶逻辑）更进一步，允许我们深入句子内部，推理对象及其性质。我们将从简单的开始，逐步构建到更强大的系统。

## 命题逻辑：把句子当作黑盒

### 基本拼图

命题逻辑将完整的陈述句作为原子单位。"正在下雨"和"量子力学是不完备的"都只是未经分析的黑盒，用 P、Q、R 等字母表示。我们不管它们内部是什么——重要的是它们如何组合。

关键洞见是：复杂命题往往是由简单命题通过几个**逻辑联结词**构建的：

- **否定**（¬）："非 P"
- **合取**（∧）："P 且 Q"——两者都要
- **析取**（∨）："P 或 Q"——至少一个
- **条件**（→）："如果 P 则 Q"
- **双条件**（↔）："P 当且仅当 Q"

这些联结词有个关键特征：复合命题的真假*完全取决于*组成部分的真假，而不取决于内容或其他因素。这让逻辑变得机械化——我们可以列出所有可能的真假组合。

### 真值表：穷举所有可能

既然真假由组成部分决定，我们可以为每个联结词列出完整的行为规范。比如**条件句**：

| P | Q | P → Q |
|---|---|-------|
| 真 | 真 | 真 |
| 真 | 假 | 假 |
| 假 | 真 | 真 |
| 假 | 假 | 真 |

这意味着："如果 P 则 Q"只在 P 真而 Q 假时才为假——也就是说，前提兑现了但结论没兑现。其他情况都算"通过"。

这导致一个奇怪的结果："如果 2+2=5 则猪会飞"是真的——这叫**空真条件句**。P 本身就是假的,所以条件句不可能失败。很多人觉得这违反直觉。但在数学推理中，这个定义恰到好处：当数学家证明"如果 n 是偶数，则 n² 是偶数"时，他们的意思是：每当 n 确实是偶数，n² 就是偶数。至于 n 是奇数时会怎样？命题沉默。

**析取**也值得一提。逻辑中的"或"是**包含性的**：P ∨ Q 允许两者都真。英语的"或"有时排斥（"汤或沙拉"），有时包含（"需要经验或能力"）。当你想表达"恰好一个"时，写成 (P ∨ Q) ∧ ¬(P ∧ Q)。

### 一个实例：政治预测

来看命题逻辑如何实际运作。考虑这段话：

> "如果经济好转且失业率下降，现任者将获胜。经济会好转。但失业率不会下降。因此，我们不能断定现任者会获胜。"

令 E = "经济好转"，U = "失业率下降"，W = "现任者获胜"。

形式化后：
1. (E ∧ U) → W
2. E
3. ¬U
4. 结论：不能推出 W

这对吗？从前提 2 和 3，我们知道 E 真而 U 假，所以 E ∧ U 为假。但前件为假的条件句无论后件如何都为真——前提并没告诉我们"只满足一个条件"时会发生什么。我们既推不出 W，也推不出 ¬W。这段话是对的。

注意形式化如何揭示隐藏的逻辑。英语原文可能*暗示*现任者会输，但逻辑分析表明：前提对此保持沉默。

### 有效性：不可能前提真而结论假

一个论证**有效**，当且仅当：不可能使所有前提为真而结论为假。等价地说，如果"(所有前提的合取) → 结论"是**重言式**（在所有情况下都为真的公式），则论证有效。

经典的重言式包括：
- P ∨ ¬P（排中律：P 要么真要么假）
- ¬(P ∧ ¬P)（矛盾律：P 不能既真又假）
- ((P → Q) ∧ (Q → R)) → (P → R)（传递性）

对于小公式，真值表提供了一个判定程序：列出所有可能的真假组合，逐行检查。但这会指数增长——20 个原子语句需要超过一百万行。

**可满足性问题**（SAT）——判定给定公式是否有满足它的赋值——被证明是"NP完全"的，意味着没有已知的高效通用算法。但现代 SAT 求解器使用聪明的技巧（冲突驱动学习、单位传播），在实际问题上能处理数百万变量的公式。这些工具彻底改变了硬件验证和软件测试。

### 命题逻辑走不通的地方

回到开篇的苏格拉底论证。在命题逻辑中，我们只能这样表示：

- P：凡人皆有死
- Q：苏格拉底是人
- R：苏格拉底会死

但这样论证就成了：P，Q，所以 R——三个毫无关联的原子。命题形式完全没有捕捉到*为什么*这是有效的。有效性取决于句子的*内部结构*——取决于"所有""人""有死"以及它们如何关联。

要捕捉这类论证，我们需要打开黑盒，深入句子内部。

## 谓词逻辑：深入句子的解剖结构

### 主词与谓词

谓词逻辑将语句分析为**主词**（我们谈论的对象）和**谓词**（我们对对象所述说的内容）。"苏格拉底会死"变成 M(s)，其中 M 是谓词"会死"，s 是常项（命名苏格拉底）。

"苏格拉底教导了柏拉图"变成 T(s, p)——二元关系。我们可以有任意元数的谓词：B(x, y, z) 可能表示"x 在 y 和 z 之间"。

一阶谓词逻辑的词汇包括：

- **常项**（a, b, c, ...）：特定对象的名称
- **变元**（x, y, z, ...）：可以指代任何对象的占位符
- **谓词**（P, Q, R, ...）：性质和关系
- **量词**（∀ 和 ∃）：这是关键创新
- **逻辑联结词**：与命题逻辑相同
- **等词**（=）：x = y 意味着同一对象

### 量词：谓词逻辑的超能力

**全称量词** ∀ 表达普遍性：∀x.P(x) 意味着"对所有 x，P(x)"。

**存在量词** ∃ 表达存在性：∃x.P(x) 意味着"存在一个 x 使得 P(x)"。

现在苏格拉底论证可以形式化了：

1. ∀x.(H(x) → M(x)) — 对所有 x，如果 x 是人，则 x 会死
2. H(s) — 苏格拉底是人
3. 因此：M(s) — 苏格拉底会死

有效性现在被捕捉在形式中。我们有规则：从 ∀x.φ(x) 可以推出 φ(t)（对任意项 t）。所以从（1）得到 H(s) → M(s)，结合（2）用肯定前件得到 M(s)。

无效论证"凡猫皆是动物。苏格拉底是动物。所以苏格拉底是猫"变为：

1. ∀x.(C(x) → A(x))
2. A(s)
3. 因此：C(s)

结构现在揭示了谬误：前提 1 说的是"猫→动物"，而不是"动物→猫"。这是**肯定后件**的谬误，一目了然。

### 量词的微妙：顺序至关重要

谓词逻辑的威力在翻译复杂语句时显现：

**"每个人都爱某个人"**：∀x.∃y.L(x, y)
这说：对每个人，都存在某个他们爱的人（可能每人不同）。

**"有人被所有人爱"**：∃y.∀x.L(x, y)
这说：存在一个人使得所有人都爱他（同一个人）。

尽管用了相同的词，这两个式子说的是完全不同的事。量词顺序形成一个层级：
- ∀x.∃y.R(x,y)：对每个输入，存在一个输出（类似函数）
- ∃y.∀x.R(x,y)：单个输出对所有输入都有效（常量）

第二个蕴含第一个，但反过来不成立。如果每个人都有母亲，并不意味着有一个女人是所有人的母亲。

再来几个：

**"没有人爱所有人"**：¬∃x.∀y.L(x, y)
等价于：∀x.∃y.¬L(x, y) — 每个人都有不爱的人。

**"只有学生才能借书"**：∀x.(B(x) → S(x))
注意："只有"限制后件。"只有 P 是 Q"意味着所有 Q 都是 P。

**"闪光的未必是金子"**：是 ∀x.(G(x) → ¬Gold(x)) 还是 ¬∀x.(G(x) → Gold(x))？
英语是歧义的——是*没有*闪光的是金子，还是*并非所有*闪光的都是金子？逻辑迫使你做出选择。

### 模型：给符号赋予意义

谓词逻辑公式的意义通过指定以下内容给出：

1. 一个**论域**：我们量化的对象集合
2. 一个**解释函数**，赋予每个常项一个对象、每个谓词一组对象

考虑 ∀x.∃y.(y > x)：
- 在自然数中为真——每个数都有比它大的数
- 在 {1, 2, 3} 中为假——3 没有更大的了

一个公式**有效**，当且仅当它在*每一个可能的*论域和解释中都为真。这是个苛刻的要求——我们必须考虑所有可能的世界、所有可能的意义。

### 证明与完备性

一阶逻辑有两个基本性质：

**可靠性**：所有可证明的都是有效的。证明规则永远不会让我们从真前提导出假结论。

**完备性**（Gödel 1930）：所有有效的都是可证明的。如果一个公式在每个模型中都为真，则存在一个证明。

完备性是非凡的——它说我们有限的证明规则捕捉了关于任意无限论域的所有逻辑真理。Gödel 在 23 岁时证明了这一点。

然而，一阶逻辑只是**半可判定的**。如果一个公式有效，系统搜索最终会找到证明。但如果它无效，搜索可能永远运行——没有总能终止的通用算法。这与命题逻辑（完全可判定）形成对比。

## 超越一阶：其他逻辑

### 二阶逻辑：对性质进行量化

一阶逻辑只对对象量化。**二阶逻辑**还对谓词和函项量化。我们可以说"P 和 Q 有共同之处"：∃F.(F(P) ∧ F(Q))，对性质的性质量化。

二阶逻辑更具表达力——它可以唯一刻画数学结构，如自然数。但代价是：二阶逻辑是不完备的。在任何有效的证明系统中，并非所有有效公式都可证明。

这是根本性的权衡：**表达力与完备性**。一阶逻辑是弱的但表现良好；二阶逻辑是强大的但难以驾驭。

### 模态逻辑：必然与可能

**模态逻辑**添加了必然性（□）和可能性（◇）算子。□P 意味着"P 必然为真"；◇P 意味着"P 可能为真"。

在语义上，模态逻辑使用**可能世界**。□P 意味着 P 在所有可达世界中为真；◇P 意味着 P 在某个可达世界中为真。

模态逻辑在哲学（形而上学、认识论）、计算机科学（程序验证——"程序必然终止"）、时态推理（总是、最终）中有应用。不同的公理系统捕捉不同的必然性概念——逻辑的、物理的、时间的。

### 直觉主义逻辑：构造的要求

**直觉主义逻辑**拒绝排中律（P ∨ ¬P）和双重否定消去。它反映了数学的构造主义哲学：要证明 ∃x.P(x)，你必须构造一个具体的见证。

值得注意的是，直觉主义逻辑通过 **Curry-Howard 对应**与计算精确对应：命题是类型，证明是程序。A → B 的证明是从 A 的证明到 B 的证明的函数。这种联系深刻影响了程序语言理论和自动化验证。

## 逻辑的意义

### 数学的基础

逻辑为数学证明提供了基础。一阶逻辑加上集合论公理是形式化所有数学的标准框架。原则上，每个数学定理都可以在这个系统中陈述和证明。

Coq、Lean、Isabelle 等证明助手以计算方式实现了形式逻辑。它们验证了复杂定理，并越来越多地用于软件验证。自 Frege 和 Russell 以来追求的完全形式化数学的梦想正在成为现实。

### 计算的心脏

逻辑是计算的核心：

**电路设计**：布尔代数（命题逻辑）描述数字电路。与门、或门、非门物理地实现逻辑运算。每台计算机都是逻辑公式的物理实例化。

**编程**：控制流（if-then-else）、布尔表达式和类型系统都使用逻辑。类型是命题，程序是证明。

**数据库查询**：SQL 的 WHERE 子句直接映射到谓词逻辑。"WHERE age > 30 AND department = 'Sales'" 就是 ∃x.(Age(x) > 30 ∧ Department(x, 'Sales'))。

**验证**：证明程序正确需要形式化"正确"的含义（逻辑规范）并证明程序满足它。这对安全关键系统——航空航天、医疗设备——至关重要。

### 精确思考的训练

逻辑最大的实践贡献可能是精确的习惯。学习逻辑训练你：

- 区分"某些""所有"和"大多数"
- 识别实际声称的与暗示的
- 找出隐含假设
- 发现无效推理模式
- 构建清晰、严谨的论证

考虑英语中的歧义："如果你不吃完蔬菜，你就没有甜点。"这是否承诺吃完就有甜点？许多人这样理解，但逻辑形式 P → Q 并不蕴涵 ¬P → ¬Q。也许吃完蔬菜是必要条件但非充分条件。

或者："Everyone didn't attend。"这是指"并非每个人都参加了"（至少有一人缺席）还是"每个人都没有参加"（没有人来）？英语允许两种解读；逻辑迫使你明确。

这在合同、医学、政策辩论、科学中都很重要。逻辑训练不会使你迂腐——它使你在精确性重要时变得精确。

## 历史的转折点

**亚里士多德**（公元前 384-322）以三段论理论创立了形式逻辑，统治了两千年。

**Gottlob Frege**（1879）革新了逻辑，引入量词和能表达所有数学推理的形式语言。这是现代谓词逻辑的诞生。

**Russell 和 Whitehead** 的《数学原理》（1910-1913）重建了逻辑，证明了大部分数学可以从逻辑公理推导。

**Gödel**（1930）证明了一阶逻辑的完备性。第二年（1931），他证明了不完备性定理——没有一致的形式系统能证明关于算术的所有真理。*完整故事见《证明与可证性》。*

**Tarski**（1933）为形式语言发展了真的语义概念。

**Church 和 Turing**（1936）证明了一阶有效性是不可判定的——没有算法能确定任意公式是否有效。这将逻辑与计算理论联系起来。

## 开放的问题

### 正确的逻辑？

经典逻辑是正确的吗？直觉主义者拒绝排中律。次协调逻辑学家否认"从矛盾推出一切"。相干逻辑学家要求前提与结论相关。

也许没有单一正确的逻辑，只是不同目的的不同逻辑——数学用经典逻辑，计算用直觉主义逻辑，不一致信息用次协调逻辑。这种**逻辑多元主义**有支持者，但它提出了关于逻辑本质的深刻问题。

### 自动推理的极限

逻辑推理能自动化到什么程度？SAT 求解器和定理证明器已超出预期。但存在根本限制——一阶有效性是不可判定的。

现代 AI 将逻辑与统计学习结合。大语言模型似乎能推理，但会犯系统性逻辑错误。逻辑严谨性能与模式识别结合吗？这是 AI 研究的前沿。

### 逻辑与认知

逻辑与人类推理有何关系？人类会犯系统性逻辑错误，但在语境中、带着背景知识推理时表现出色。

逻辑是对我们如何推理的描述、我们应该如何推理的规范标准，还是只是类似推理的人工系统？可能是第二个——但那么我们应该如何权衡逻辑规范与其他考虑？

## 延伸阅读

**入门：**
- Graham Priest 著《逻辑：牛津通识读本》——温和的、有哲学意识的导论
- Barwise 和 Etchemendy 著《语言、证明与逻辑》——现代教科书，配有优秀的交互式软件

**进阶：**
- Ebbinghaus、Flum 和 Thomas 著《数理逻辑》——一阶逻辑的严谨导论
- Huth 和 Ryan 著《计算机科学中的逻辑》——从计算视角涵盖逻辑

**高阶：**
- Boolos、Burgess 和 Jeffrey 著《可计算性与逻辑》——深入涵盖 Gödel 定理
- Blackburn、de Rijke 和 Venema 著《模态逻辑》——模态逻辑的全面论述

---

*关联：本主题通过提供精确推理的形式工具，建立在有效推理的概念基础之上。它直接支撑《证明与可证性》，在那里我们考察形式系统中什么可证、什么不可证——包括揭示形式推理根本限制的 Gödel 不完备性定理。这里发展的形式语言通过量子逻辑再现于《量子力学：基础》，在那里分配律失效，经典直觉崩溃。*

---
topic_id: 22
part: II
section: "逻辑"
difficulty: 7/10
estimated_reading_time: 25-30 minutes
prerequisites: [21]
related_topics: [23, 46]
enables: [23, 46, 47]
core_concepts: ['联结词', '真值表', '量词', '变元', '证明系统', '逻辑等价', '模型', '有效性', '完备性']
---
